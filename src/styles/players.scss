@use "./consts.scss" as *;

.players {
  position: fixed;
  top: 1em;
  right: 1em;
}

.player {
  margin-bottom: .15em;

  > .resources {
    direction: rtl;
    perspective: 10rem;

    > .card {
      @function count($k, $m: 0) {
        @return calc($k*var(--count, 2) + $m);
      }

      $w : 1.3em;
      $h : 1.9em;
      margin-left: clamp(-.75em, count(-.0875em, .275em), .1em);
      transform: rotateY(clamp(330deg, count(-3.75deg, 367.5deg), 360deg));
      box-shadow: clamp(.2em, count(.05em, .1em), .4em) .1em clamp(.1em, count(.0125em, .075em), .2em) #0007;
      background: center center/#{$pixelDensity*8} $pixelDensity*8;
      width: $w;
      height: $h;
      border-radius: .16em;
      overflow: hidden;
      display: inline-block;
      transition: 300ms ease-out;
      transition-property: transform, margin-left, box-shadow;

      &::after {
        content: '';
        background: url("../assets/paper.png") center / 100% 100%;
        position: absolute;
        width: $w*1.9;
        left: $w*-.45;
        height: $h*1.4;
        top: $h*-.2;
        filter: saturate(0);
      }

      @include textures(false);

      &.Sheep::before {
        $sheeps: 5;
        content: '';
        background-image: repeat(url('../assets/sheepAnimal.png'), $sheeps);
        background-position: 50% 15%, 86% 74%, 77% 38%, 46% 64%, 23% 21%;
        background-size: $tileWidth*.03125 $tileHeight*.015625;
        background-repeat: no-repeat;
        position: absolute;
        top: 0;
        left: 0;
        inset: 0;
        rotate: 30deg;
      }
    }
  }
}